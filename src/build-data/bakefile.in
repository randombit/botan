toolsets = vs2013;
shared-library botan {
	defines = "BOTAN_DLL=__declspec(dllexport)";
%{bakefile_source_list}
}
program cli {
	deps = botan;
%{bakefile_cli_list}
}
program tests {
	deps = botan;
%{bakefile_tests_list}
}

includedirs += build/include/;
includedirs += build/include/external;

%{bakefile_libs}

archs = %{cpu};

vs2013.option.ClCompile.DisableSpecificWarnings = "4250;4251;4275";
vs2013.option.ClCompile.WarningLevel = Level4;
vs2013.option.ClCompile.ExceptionHandling = SyncCThrow;
vs2013.option.ClCompile.RuntimeTypeInfo = true;
if ( $(config) == Release ) {
vs2013.option.Configuration.WholeProgramOptimization = true;
}
